<!DOCTYPE html>
<html>
	<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
		<style>
			.demo_obs-window {
				width: 800px;
				height: 668px;
				display: block;
				background-color: #3A3A3A;
				position: relative;
			}
      
      .demo_obs-window * {
      	padding: 0px;
        margin: 0px;
        box-sizing: border-box;
      }
			
			#demo_preview-container {
				left: 10px;

				top: 42px;
				width: calc(100% - 20px);
        padding-top: calc(56.25% + 10px);
				background-color: #4B4B4B;
				position: absolute;
        
        transition: width .5s, padding-top 1s, box-shadow 0.5s;
        
        cursor: pointer;
			}
      
      .demo_preview {
      	background-color: #1F1F1F;
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
				width: calc(100% - 20px);
        height: 0;
        padding-top: 56.25%;
        transition: opacity .5s ease-out, transform 0.5s;
      }
      
      #demo_studio-preview {
      	opacity: 0;
        transform: translateY(-50%) translateX(0) scale(0.48);
      }
        
      .studio-mode #demo_main-preview {
        transform: translateY(-50%) translateX(26%) scale(0.48);
      }
      
      .studio-mode #demo_studio-preview {
      	opacity: 1;
        transform: translateY(-50%) translateX(-26%) scale(0.48);
      }
      
      .studio-mode.vertical #demo_studio-preview {
        transform: translateY(-76%) translateX(0%) scale(0.48);
      }
      
      .studio-mode.vertical #demo_main-preview {
      	transform: translateY(-24%) translateX(0%) scale(0.48);
      }
     
			#demo_buttons {
				top: 0px;
				right: 2px;
				position: absolute;
			}
			
			.demo_button {
				top: 10px;
				margin-right: 8px;
				width: 11px;
				height: 11px;
				border-radius: 100%;
				background-color: #8A8A8A;
				float: right;
				display: block;
				position: relative;
			}
      .on-windows .demo_button {
      	top: 0;
        margin-right: 2px;
        width: 32px;
        height: 20px;
        border-radius: 0;
        color: white;
        background-color: transparent;
        text-align: center;
        line-height: 1em;
      }
      
      .on-windows .demo_button:after { /* Maximise */
      	content: '\25A1';
        pointer: default;
      }
      .on-windows .demo_button:nth-of-type(1) {
      	background: #E04343;
      }
      .on-windows .demo_button:nth-of-type(1):after { /* Close */
      	content: '\2715';
        font-size: 0.82em;
      }
      
      .on-windows .demo_button:last-child:after { /* Minimise */
      	content: '\2015';
    		font-size: 0.6em;
    		line-height: 2em;
      }
			
			#demo_icon {
				top: 6px;
				left: 6px;
				height: 16px;
				position: absolute;
			}
			
			
			.demo_border {
				position: absolute;
				top: 505px;
				padding: 2px;
				height: auto;
				width: auto;
				box-shadow: 0 0 0 rgba(0,0,0,0);
        background-color: #3A3A3A;
				transition: transform 1s, box-shadow 0.5s, height 1s, width 1s;
			}
      
      .demo_window {
      	box-shadow: 2px 2px 10px rgba(0,0,0,0.5) !important;
        margin-top: -20px;
        padding: 0;
      }
      
      .demo_window .demo_section:before {
      	content: "";
        top: 0px;
        height: 20px;
        width: 100%;
        display: block;
        position: absolute;
        background-color: #3A3A3A;
      }
      
      .demo_window .demo_section:after {
				content: "";
    		text-align: center;
    		line-height: 20px;
    		font-size: 10px;
    		right: 0;
    		top: 4px;
    		margin-right: 6px;
    		width: 11px;
    		height: 11px;
    		border-radius: 100%;
    		background-color: #8A8A8A;
    		float: right;
    		display: block;
    		position: relative;
      }
      
      .on-windows .demo_window .demo_section:before {
      	content: "";
        top: 0px;
        height: 20px;
        width: 100%;
        display: block;
        position: absolute;
      }
      
      .on-windows .demo_window .demo_section:after {
      	content: "\2715";
        text-align: center;
        width: 20px;
        height: 20px;
        border-radius: 0;
        margin-right: 0;
        line-height: 20px;
        font-size: 10px;
        font-family: sans-serif;
        color: #FFFFFF;
        background-color: #E04343;
        top: 0;
        right: 0;
        position: absolute;
        pointer: default;
      }
      
      .demo_window .demo_inner-box {
      	border-left: solid 1px #3A3A3A;
        margin-left: 1px;
        width: calc(100% - 1px);
      }
      
      .demo_window .demo_section-box {
      	height: calc(100% - 20px);
      }
      
      .demo_window img {
      	left: 2px !important;
        top: -1px !important;
      }
      
      .demo_section {
      	height: 100%;
        background-color: #3A3A3A;
        position: relative;
      }
			
			.demo_section img {
				position: absolute;
				top: -3px;
				left: -1px;
			}
			
			#demo_dock-1 {
				left: 10px;
        width: 147px;
				height: 146px;
			}
      
      #demo_dock-1.demo_window {
      	height: 166px;
      }
			
			#demo_dock-2 {
				left: 167px;
        width: 147px;
				height: 146px;
			}
      
      #demo_dock-1 img, #demo_dock-2 img {
				width: 147px;
			}
			
			#demo_dock-3 {
				left: 324px;
        width: 239px;
				height: 146px;
			}
      
      #demo_dock-3 img {
      	width: 239px;
      }
			
			#demo_dock-3 .demo_section {
				width: 239px;
			}
			
			.demo_section-box {
				width: 100%;
				left: -1px;
				height: calc(100% - 16px);
				bottom: 0px;
				position: absolute;
				border: 1px solid #1F1F1F;
			}
      
      .demo_window .demo_section-box {
      	border: 0 !important;
      }
			
			.demo_inner-box {
				width: 100%;
				height: calc(100% - 24px);
				background-color: #1F1F1F;
			}
			
			#demo_obs-menu {
				top: 0;
				position: absolute;
				width: 365px;
			}
			
			.demo_box-button {
				width: 12px;
				height: 12px;
				float: left;
				left: 4px;
				top: 6px;
				margin-left: 2px;
				background-color: #8A8A8A;
				position: relative;
				z-index: 10;
			}
			
			.demo_mixerbar {
				height: 2.5px;
				width: 0px;
				left: 7px;
				background-color: #33C735;
				position: absolute;
        transition: width .06s linear;
        overflow: hidden;
			}
      
      .demo_mixer-green, .demo_mixer-yellow, .demo_mixer-red {
      	height: 100%;
        position: absolute;
        left: 0;
        top: 0;
      }
      
      .demo_mixer-green {
      	background-color: #33C735;
        width: 146px;
      }
      
      .demo_mixer-yellow {
      	background-color: #EFC639;
      	width: 187px;
      }
      
      .demo_mixer-red {
      	background-color: #D13B3B;
      	width: 224px;
      }
			
			#demo_mixerMain {
				top: 33.5px;
			}
			
			#demo_mixerL {
				top: 68.8px;
			}
			#demo_mixerR {
				top: 71.8px;
			}
		</style>
	</head>
	<body>
		<div class="demo_obs-window">
      <div id="demo_header">
        <img src="assets/JCRqYSv.jpg" style="display:none" />
        <img id="demo_icon" src="assets/OBSLogo.svg" />
        <img id="demo_obs-menu" src="assets/Header.svg" />
        <div id="demo_buttons">
          <div class="demo_button"></div>
          <div class="demo_button"></div>
          <div class="demo_button"></div>
        </div>
      </div>
			<div id="demo_preview-container">
        <div id="demo_studio-preview" class="demo_preview"></div>
				<div id="demo_main-preview" class="demo_preview"></div>
			</div>
			<div id="demo_dock-1" class="demo_border">
				<div id="demo_section-1" class="demo_section">
					<div class="demo_section-box">
						<div class="demo_inner-box"></div>
						<div class="demo_box-button"></div>
						<div class="demo_box-button"></div>
						<div class="demo_box-button"></div>
						<div class="demo_box-button"></div>
					</div>
					<img src="assets/Section1.svg" />
				</div>
			</div>
			<div id="demo_dock-2" class="demo_border">
				<div id="demo_section-2" class="demo_section">
					<div class="demo_section-box">
						<div class="demo_inner-box"></div>
						<div class="demo_box-button"></div>
						<div class="demo_box-button"></div>
						<div class="demo_box-button"></div>
						<div class="demo_box-button"></div>
						<div class="demo_box-button"></div>
					</div>
					<img src="assets/Section2.svg" />
				</div>
			</div>
			<div id="demo_dock-3" class="demo_border">
				<div id="demo_section-3" class="demo_section">
					<div class="demo_section-box">
					</div>
					<img src="assets/Section3.svg" />
					<div class="demo_mixerbar" id="demo_mixerMain">
            <div class="demo_mixer-red"></div>
            <div class="demo_mixer-yellow"></div>
            <div class="demo_mixer-green"></div>
					</div>
					<div class="demo_mixerbar" id="demo_mixerL">
						<div class="demo_mixer-red"></div>
            <div class="demo_mixer-yellow"></div>
            <div class="demo_mixer-green"></div>
					</div>
					<div class="demo_mixerbar" id="demo_mixerR">
						<div class="demo_mixer-red"></div>
            <div class="demo_mixer-yellow"></div>
            <div class="demo_mixer-green"></div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			var sec1 = document.getElementById("demo_dock-1");
			var sec2 = document.getElementById("demo_dock-2");
			var sec3 = document.getElementById("demo_dock-3");
			//var sec4 = document.getElementById("demo_dock-4");
			var mixerBar = document.getElementById("demo_mixerMain");
			var mixerBarL = document.getElementById("demo_mixerL");
			var mixerBarR = document.getElementById("demo_mixerR");
      var prevWindow = document.getElementById("demo_preview-container");
			
			var mixM = createArray(0.9, 10);
			var mixS = createArray(0.4, 40);
			var mixL = createArray(0, 60);
			var mixR = createArray(0, 60);
      
      var animFrame = 0; // For state switching to do neat things like having a drop shadow before it starts moving, etc, and to keep track of where something is in a transition.
      var animRunning = false;
      
      var curState = 0;
      var animStates = [
      	[
          {
            domElement: sec1,
            transform: "translateX(0)",
            style: {
              height: ""
            },
            class: "demo_border"
          },
          {
            domElement: sec2,
            transform: "translateX(0)",
            style: {
              width: ""
            }
          },
          {
            domElement: sec3,
            transform: "translateX(0)"
          },
//          {
//            domElement: sec4,
//            transform: "translateX(0)"
//          },
          {
            domElement: prevWindow,
            style: {
              width: "calc(100% - 20px)"
            }
          }
        ],
        [
          {
            domElement: sec1,
            transform: "translateX(250px)"
          },
          {
            domElement: sec2,
            transform: "translateX(250px)"
          },
          {
            domElement: sec3,
            transform: "translateX(-313px)"
          },
//          {
//            domElement: sec4,
//            transform: "translateX(0)"
//          },
        ],
        [
          {
            domElement: sec1,
            transform: "translateX(630px) translateY(-465px)",
            style: {
              height: "461px"
            }
          },
          {
            domElement: sec2,
            transform: "translateX(-157px)",
            style: {
             	width: "250px"
            }
          },
          {
            domElement: sec3,
            transform: "translateX(-54px)"
          },
          {
            domElement: prevWindow,
            style: {
              width: "calc(100% - 179px)"
            }
          }
        ],
        [
          {
            domElement: sec1,
            transform: "translateX(630px) translateY(-465px)",
            style: {
              height: "411px"
            }
          },
          {
            domElement: sec2,
            transform: "translateX(-157px) translateY(-50px)",
            style: {
             	width: "250px",
              height: "196px"
            }
          },
          {
            domElement: sec3,
            transform: "translateX(-54px) translateY(-50px)",
            style: {
              height: "196px"
            }
          },
          {
            domElement: prevWindow,
            style: {
              width: "calc(100% - 179px)",
              paddingTop: "calc(56.25% - 40px)"
            }
          }
        ],
        [
          {
            domElement: sec1,
            transform: "translateX(610px) translateY(-425px)",
            style: {
              height: ""
            },
            class: "demo_border demo_window"
          },
          {
            domElement: sec2,
            transform: "translateX(-157px)",
            style: {
              height: ""
            },
          },
          {
            domElement: sec3,
            transform: "translateX(-54px)",
            style: {
              height: ""
            },
          },
          {
            domElement: prevWindow,
            style: {
              width: "calc(100% - 20px)",
              paddingTop: ""
            }
          }
        ]
      ]; // Transforms or classes that will need to be applied to sections to make a certain layout.
      
      var obswindow = document.querySelector(".demo_obs-window");
      var obsstate = 0;
      isWindows = navigator.appVersion.indexOf("Win")!==-1;
      obswindow.className = "demo_obs-window" + (isWindows ? " on-windows" : "");
			
			function drawUpdate() {
				mixerBar.style.width = Math.sqrt(updateArray(mixM, 0.1, 1)) * 100 + "%";
				let base = Math.sqrt(updateArray(mixS, 0, 0.4));
				mixerBarL.style.width = Math.max(Math.min(base + updateArray(mixL, -0.2, 0.2), 1), 0) * 100 + "%";
				mixerBarR.style.width = Math.max(Math.min(base + updateArray(mixR, -0.2, 0.2), 1), 0) * 100 + "%";
				if(animRunning) {
        	if(animFrame == 0) {
          	curState = (curState + 1) % animStates.length;
            for(let i = 0, l = animStates[curState].length; i < l; ++i) {
              animStates[curState][i].domElement.style.boxShadow = "0 0 5px rgba(0,0,0,0.6)";
            }
          } else if(animFrame == 5) {
            if(curState == 0) {
              obsstate = (obsstate + 1) % 3;
              obswindow.className = "demo_obs-window"
                + (obsstate > 0 ? " studio-mode" : "")
                + (obsstate > 1 ? " vertical" : "")
              	+ (isWindows ? " on-windows" : "");
            }
            for(let i = 0, l = animStates[curState].length; i < l; ++i) {
              let anim = animStates[curState][i];
              let el = anim.domElement;
              if(anim.transform) {
              	el.style.transform = anim.transform;
              }
              if(anim.style) {
                let keys = Object.keys(anim.style);
               	for(let x = 0, m = keys.length; x < m; ++x) {
                  el.style[keys[x]] = anim.style[keys[x]];
                }
              }
              if(anim.class) {
                el.className = anim.class;
              }
            }
          } else if(animFrame == 30) {
            for(let i = 0, l = animStates[curState].length; i < l; ++i) {
              animStates[curState][i].domElement.style.boxShadow = "";
            }
            animRunning = false;
          }
        	++animFrame;
        }
        window.setTimeout(function() {
      		window.requestAnimationFrame(drawUpdate);
      	}, 32);
			}
			
			function updateArray(array, min, max) {
				array.shift();
				array.push(Math.random()*(max-min)+min);
				let average = 0;
				for(let i = 0, l = array.length; i < l; ++i) {
					average += array[i] / l;
				}
				return average;
			}
			
			function createArray(val, len) {
				let array = [];
				for(let i = 0; i < len; ++i) { array.push(val); }
				return array;
			}
			
      window.requestAnimationFrame(drawUpdate);
      
      
      $('#demo_preview-container').on('click', function(e) {
        animRunning = true;
        animFrame = 0;
      });

		</script>
	</body>
</html>